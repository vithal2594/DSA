üìò EQUALS() IN JAVA ‚Äì COMPLETE GUIDE
============================================================

1Ô∏è‚É£ WHAT IS equals() IN JAVA
------------------------------------------------------------
The `equals()` method is used to compare two objects for logical equality (same content).
By default, it is inherited from `java.lang.Object`.

Default implementation:
------------------------------------------------------------
public class Object {
    public boolean equals(Object obj) {
        return (this == obj);
    }
}
‚öôÔ∏è  It compares memory addresses (reference equality), not the data inside.

============================================================

2Ô∏è‚É£ WHY OVERRIDE equals()
------------------------------------------------------------
- To compare object data, not memory addresses.
- Example: Two `Person` objects with same `id` and `name` should be equal.

CODE EXAMPLE:
------------------------------------------------------------
class Person {
    int id;
    String name;

    Person(int id, String name) {
        this.id = id;
        this.name = name;
    }

    public static void main(String[] args) {
        Person p1 = new Person(1, "Alice");
        Person p2 = new Person(1, "Alice");
        System.out.println(p1.equals(p2)); // false - different references
    }
}
============================================================

3Ô∏è‚É£ INTERNAL WORKING (DEFAULT)
------------------------------------------------------------
1. `equals()` checks if both references point to same object (this == obj)
2. If yes ‚Üí returns true
3. If no ‚Üí returns false
‚úÖ  No field comparison is done by default.

============================================================

4Ô∏è‚É£ OVERRIDING equals() PROPERLY
------------------------------------------------------------
class Person {
    int id;
    String name;

    Person(int id, String name) {
        this.id = id;
        this.name = name;
    }

    @Override
    public boolean equals(Object obj) {
        // 1. Same reference
        if (this == obj) return true;

        // 2. Null check
        if (obj == null) return false;

        // 3. Type check
        if (getClass() != obj.getClass()) return false;

        // 4. Typecast
        Person other = (Person) obj;

        // 5. Compare fields
        return this.id == other.id && this.name.equals(other.name);
    }

    public static void main(String[] args) {
        Person p1 = new Person(101, "Alice");
        Person p2 = new Person(101, "Alice");
        System.out.println(p1.equals(p2)); // true
    }
}

============================================================

5Ô∏è‚É£ JAVA CONTRACT FOR equals()
------------------------------------------------------------
The equals() method must obey these five rules:

| Rule | Meaning |
|------|----------|
| Reflexive | x.equals(x) ‚Üí true |
| Symmetric | if x.equals(y) ‚Üí y.equals(x) |
| Transitive | if x.equals(y) & y.equals(z) ‚Üí x.equals(z) |
| Consistent | repeated calls ‚Üí same result |
| Non-null | x.equals(null) ‚Üí false |

============================================================

6Ô∏è‚É£ RELATIONSHIP WITH hashCode()
------------------------------------------------------------
Objects that are equal must have the same hash code.

@Override
public int hashCode() {
    return Objects.hash(id, name);
}

Person p1 = new Person(1, "Alice");
Person p2 = new Person(1, "Alice");

System.out.println(p1.equals(p2));             // true
System.out.println(p1.hashCode() == p2.hashCode()); // true

============================================================

7Ô∏è‚É£ COMMON MISTAKES
------------------------------------------------------------
‚ùå Not overriding hashCode() when equals() is overridden
‚ùå Comparing Strings with ==
‚ùå Forgetting null checks
‚ùå Violating symmetry or transitivity
‚ùå Comparing objects of different classes

============================================================

8Ô∏è‚É£ USING Objects.equals() (NULL-SAFE)
------------------------------------------------------------
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (!(obj instanceof Person)) return false;
    Person other = (Person) obj;
    return id == other.id && Objects.equals(name, other.name);
}
‚úÖ Avoids NullPointerException

============================================================

9Ô∏è‚É£ EXAMPLE: LOGICAL EQUALITY IN HASHSET
------------------------------------------------------------
import java.util.*;

class Student {
    int id;
    String name;

    Student(int id, String name) {
        this.id = id;
        this.name = name;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Student)) return false;
        Student s = (Student) o;
        return id == s.id && Objects.equals(name, s.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(id, name);
    }
}

public class Main {
    public static void main(String[] args) {
        HashSet<Student> set = new HashSet<>();
        set.add(new Student(1, "Ravi"));
        set.add(new Student(1, "Ravi"));
        System.out.println(set.size());  // Output: 1
    }
}

============================================================

üîü INTERNAL WORKING OF equals() IN COLLECTIONS
------------------------------------------------------------
1. Calculate hashCode() ‚Üí find correct bucket
2. If collision ‚Üí compare using equals()
3. If equals() ‚Üí true ‚Üí duplicate ignored
4. If false ‚Üí add new entry

============================================================

11Ô∏è‚É£ REAL-WORLD ANALOGY
------------------------------------------------------------
| Concept | Example |
|----------|----------|
| == | Check if two ID cards are the same card |
| equals() | Check if two ID cards belong to the same person |

============================================================

12Ô∏è‚É£ BEST PRACTICES
------------------------------------------------------------
‚úÖ Override equals() and hashCode() together
‚úÖ Use Objects.equals() for null-safe comparison
‚úÖ Use immutable fields in equality checks
‚úÖ Respect all 5 contract rules
‚úÖ Prefer IDE-generated equals() & hashCode()

============================================================

13Ô∏è‚É£ QUICK COMPARISON
------------------------------------------------------------
| Aspect | == Operator | equals() Method |
|---------|--------------|----------------|
| Compares | References | Values/Content |
| Defined In | Language | Object class |
| Can Override | ‚ùå No | ‚úÖ Yes |
| Default Behavior | Reference equality | Reference equality |
| Used For | Primitives, object refs | Logical equality |

============================================================

‚úÖ SUMMARY
------------------------------------------------------------
- equals() compares logical content; == compares references
- Must be consistent with hashCode()
- Must follow reflexive, symmetric, transitive, consistent, non-null rules
- Use Objects.equals() for null-safe comparisons
- Essential for correct behavior in HashMap, HashSet, and collections

============================================================
